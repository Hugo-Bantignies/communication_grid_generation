<!DOCTYPE html>
<meta charset="utf-8">
<html>
  <head>
	<script src="http://d3js.org/d3.v6.js"></script>
  </head>

<body>
	<div id='pictogram_grid'>
		<div id='pictogram_grid'></div>
	</div>
</body>
<script>

var drawMatrix = function(){

	//Bostock's margin convention
	var margin = {top: 10, right: 10, bottom: 20, left: 70},
			width  = 720 - margin.left - margin.right,
			height = 480 - margin.top - margin.bottom;

	//create an svg with width and height
	var svg = d3.select('#pictogram_grid')
		.append('svg')
		.attr("width", width)
		.attr("height", height)

	//10 rows and 10 columns 
	var numRows = 10;
	var numCols = 10;

	//x and y axis scales
	var y = d3.scaleBand()
		.range([0,250])
		.domain(d3.range(numRows));

	var x = d3.scaleBand()
		.range([0, 250])
		.domain(d3.range(numCols));

	d3.csv("../../default.csv", d => (
	{
		word:     d.word,
		row:     +d.row,
		col:    +d.col,
		page: d.page,
		identifier: d.identifier,
	}
	)).then(function(data) {

		//container to hold the grid
		var svg = svg.append("g")
			.attr("transform", "translate(135,130)");
		

		svg.selectAll("pictograms")
				.data(data)
				.enter().append("rect")
				.attr('x', function(d){return x(d.row%10);})
				.attr('y', function(d){return y(Math.floor(d.col/10));})
				.attr('width', 20)
				.attr('height', 20)
				.attr('stroke', 'black')
				.attr('fill', 'white')	
	}
	);}
	//call function to draw the graph
	drawMatrix();
</script>
</html>